{"version":3,"sources":["src/cmpxLib.ts","src/htmlDef.ts","src/cmpxEvent.ts","src/compile.ts","src/componet.ts","src/platform.ts","src/browser.ts","src/index.ts","src/testing/test.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["\r\nlet stringEmpty = \"\",\r\n    toString = Object.prototype.toString,\r\n    core_hasOwn = Object.prototype.hasOwnProperty,\r\n    noop = function () { },\r\n    slice = Array.prototype.slice;\r\n\r\nfunction testObject(obj: any) {\r\n    if (obj.constructor &&\r\n        !core_hasOwn.call(obj, \"constructor\") &&\r\n        !core_hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport default class CmpxLib {\r\n    static stringEmpty = stringEmpty;\r\n\r\n    static noop = noop;\r\n\r\n    static hasOwnProp(obj: any, prop: string) {\r\n        return core_hasOwn.call(obj, prop);\r\n    }\r\n\r\n    static trace(e: any) {\r\n        console.error && console.error(e.stack || e.message || e + '');\r\n    }\r\n\r\n    static isType(typename: string, value: any) {\r\n        //typename:String, Array, Boolean, Object, RegExp, Date, Function,Number //兼容\r\n        //typename:Null, Undefined,Arguments    //IE不兼容\r\n        return toString.apply(value) === '[object ' + typename + ']';\r\n    }\r\n\r\n    static toStr(p: any): string {\r\n        return CmpxLib.isNull(p) ? '' : p.toString();\r\n    }\r\n\r\n    static isUndefined(obj: any) {\r\n        ///<summary>是否定义</summary>\r\n\r\n        return (typeof (obj) === \"undefined\" || obj === undefined);\r\n    }\r\n\r\n    static isNull(obj: any) {\r\n        ///<summary>是否Null</summary>\r\n\r\n        return (obj === null || CmpxLib.isUndefined(obj));\r\n    }\r\n\r\n    static isBoolean(obj: any) {\r\n        return CmpxLib.isType(\"Boolean\", obj);\r\n    }\r\n\r\n    static isNullEmpty(s: any) {\r\n        return (CmpxLib.isNull(s) || s === stringEmpty);\r\n    }\r\n\r\n    static isFunction(fun: any) {\r\n        return CmpxLib.isType(\"Function\", fun);\r\n    }\r\n\r\n    static isNumeric(n: any) {\r\n        //return cmpx.isType(\"Number\", n) && !isNaN(n) && isFinite(n);;\r\n        return !isNaN(parseFloat(n)) && isFinite(n);\r\n    }\r\n\r\n    static isString(obj: any) {\r\n        return CmpxLib.isType(\"String\", obj);\r\n    }\r\n\r\n    static isObject(obj: any) {\r\n        return obj && CmpxLib.isType(\"Object\", obj)\r\n            && !CmpxLib.isElement(obj) && !CmpxLib.isWindow(obj);//IE8以下isElement, isWindow认为Object\r\n    }\r\n\r\n    static tryCatch(tryFn: Function, catchFn: (e: any) => any, args: Array<any> = [], thisArg: any = null): any {\r\n        try {\r\n            return tryFn.apply(thisArg, args);\r\n        } catch (e) {\r\n            return catchFn.call(thisArg, e);\r\n        }\r\n    }\r\n\r\n    static isPlainObject(obj: any) {\r\n        if (!CmpxLib.isObject(obj)) return false;\r\n\r\n        try {\r\n            if (testObject(obj) === false) return false;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n\r\n        var key;\r\n        for (key in obj) { }\r\n\r\n        return key === undefined || core_hasOwn.call(obj, key);\r\n    }\r\n\r\n    static encodeHtml(html: string): string {\r\n        return !html ? '' : html.replace(/\\&/g, '&amp;').replace(/\\</g, '&lt;').replace(/\\>/g, '&gt;')\r\n            .replace(/\\\"/g, '&quot;').replace(/ /g, \"&nbsp;\").replace(/\\'/g, \"&#39;\");\r\n    }\r\n\r\n    static decodeHtml(html: string): string {\r\n        return !html ? '' : html.replace(/&lt;/g, '<').replace(/&gt;/g, '>')\r\n            .replace(/&quot;/g, '\"').replace(/&nbsp;/g, ' ').replace(/&#39;/g, \"'\").replace(/&amp;/g, '&');\r\n    }\r\n\r\n    static isArray(value: any) {\r\n        return Array.isArray ? Array.isArray(value) : CmpxLib.isType(\"Array\", value);\r\n    }\r\n\r\n    static isWindow(obj: any) { return !!(obj && obj == obj.window); }\r\n\r\n    static isElement(obj: any) { var t = obj && (obj.ownerDocument || obj).documentElement; return t ? true : false; }\r\n\r\n    static trim(str: string, newline?: boolean) {\r\n        return str ? (newline ? str.replace(/^(?:\\s|\\u3000|\\ue4c6|\\n|\\r)*|(?:\\s|\\u3000|\\ue4c6|\\n|\\r)*$/g, '') :\r\n            str.replace(/^(?:\\s|\\u3000|\\ue4c6)*|(?:\\s|\\u3000|\\ue4c6)*$/g, '')) : '';\r\n    }\r\n\r\n    static replaceAll(s: string, str: string, repl: string, flags: string = \"g\") {\r\n        if (CmpxLib.isNullEmpty(s) || CmpxLib.isNullEmpty(str)) return s;\r\n        str = str.replace(/([^A-Za-z0-9 ])/g, \"\\\\$1\");\r\n        s = s.replace(new RegExp(str, flags), repl);\r\n        return s;\r\n    }\r\n\r\n    static inArray(list: Array<any>, p: any, thisArg: any = null): number {\r\n        var isF = CmpxLib.isFunction(p),\r\n            index = -1;\r\n        CmpxLib.each(list, (item, idx) => {\r\n            var ok = isF ? p.call(thisArg, item, idx) : (item == p);\r\n            if (ok) {\r\n                index = idx;\r\n                return false;\r\n            }\r\n        }, thisArg);\r\n        return index;\r\n    }\r\n\r\n    static toArray(p: any, start: number = 0, count: number = Number.MAX_VALUE): Array<any> {\r\n        return p ? slice.apply(p, [start, count]) : p;\r\n    }\r\n\r\n    static arrayToObject<T>(array: Array<T>, fieldName: string): { [name: string]: T } {\r\n        var obj: { [name: string]: T } = {};\r\n        CmpxLib.each(array, function (item: any, index: number) {\r\n            obj[item[fieldName]] = item;\r\n        });\r\n        return obj;\r\n    }\r\n\r\n    static each(list: any, fn: (item: any, idx: number) => any, thisArg: any = null) {\r\n        if (!list) return;\r\n        var len = list.length;\r\n        for (let i = 0, len = list.length; i < len; i++) {\r\n            if (fn.call(thisArg, list[i], i) === false) break;\r\n        }\r\n    }\r\n\r\n    static eachProp(obj: any, callback: (item: any, name: string) => void, thisArg: any = null) {\r\n        if (!obj) return;\r\n        var item;\r\n        for (var n in obj) {\r\n            if (CmpxLib.hasOwnProp(obj, n)) {\r\n                item = obj[n];\r\n                if (callback.call(thisArg, item, n) === false) break;\r\n            }\r\n        }\r\n    }\r\n\r\n    static extend(obj: Object, p: Object): Object {\r\n        if (obj && p) {\r\n            CmpxLib.eachProp(p, (item: string, name: string) => obj[name] = item);\r\n        }\r\n        return obj;\r\n    }\r\n}\r\n","import CmpxLib from \"./cmpxLib\";\r\n\r\n/**\r\n * HtmlTag配置\r\n */\r\nexport interface IHtmlTagDefConfig {\r\n  [key: string]: HtmlTagDef\r\n}\r\n\r\n/**\r\n * 创建element的属性\r\n */\r\nexport interface ICreateElementAttr {\r\n  /**\r\n   * 属性名称\r\n   */\r\n  name: string;\r\n  /**\r\n   * 属性值\r\n   */\r\n  value: string;\r\n  /**\r\n   * 子名称，如：style.color=\"red\", 子名称为color\r\n   */\r\n  subName?: string;\r\n}\r\n\r\n/**\r\n * 默认element创建器\r\n * @param name tagName, eg:div\r\n * @param attrs 属性数据, 只有静态属性，绑定属性不传入为\r\n * @param parent 父element\r\n * @param content 内容, contentType为RAW_TEXT或RAW_TEXT时会传入\r\n */\r\nexport function DEFAULT_CREATEELEMENT(name: string, attrs: ICreateElementAttr[], parent?: HTMLElement, content?: string): HTMLElement {\r\n  let element: HTMLElement = document.createElement(name);\r\n  CmpxLib.each(attrs, function (item: ICreateElementAttr) {\r\n    HtmlDef.getHtmlAttrDef(item.name).setAttribute(element, item.name, item.value, item.subName);\r\n  });\r\n  return element;\r\n}\r\n\r\n//注释标签\r\nlet _noteTagRegex = /\\<\\!--(?:.|\\n|\\r)*?--\\>/gim;\r\n\r\n/**\r\n * HtmlTag定义类\r\n */\r\nexport class HtmlTagDef {\r\n\r\n  /**\r\n   * 单行标签\r\n   */\r\n  single: boolean;\r\n  raw: boolean;\r\n  /**\r\n   * element创建器\r\n   */\r\n  createElement: (name: string, attrs: ICreateElementAttr[], parent?: HTMLElement, content?: string) => HTMLElement;\r\n\r\n  constructor(\r\n    { single = false, raw = false, createElement = null }: {\r\n      single?: boolean;\r\n      raw?: boolean;\r\n      createElement?: (name: string, attrs: ICreateElementAttr[], parent?: HTMLElement, content?: string) => HTMLElement;\r\n    } = {}) {\r\n    this.single = single;\r\n    this.raw = raw;\r\n    this.createElement = createElement || DEFAULT_CREATEELEMENT\r\n  }\r\n\r\n}\r\n\r\nexport const SINGLE_TAG = new HtmlTagDef({ single: true }),\r\n  DEFULE_TAG = new HtmlTagDef();\r\n\r\nvar _htmlTagDefConfig: IHtmlTagDefConfig = {\r\n  'base': SINGLE_TAG,\r\n  'meta': SINGLE_TAG,\r\n  'area': SINGLE_TAG,\r\n  'embed': SINGLE_TAG,\r\n  'link': SINGLE_TAG,\r\n  'img': SINGLE_TAG,\r\n  'input': SINGLE_TAG,\r\n  'param': SINGLE_TAG,\r\n  'hr': SINGLE_TAG,\r\n  'source': SINGLE_TAG,\r\n  'track': SINGLE_TAG,\r\n  'wbr': SINGLE_TAG,\r\n  'p': DEFULE_TAG,\r\n  'thead': DEFULE_TAG,\r\n  'tbody': DEFULE_TAG,\r\n  'tfoot': DEFULE_TAG,\r\n  'tr': DEFULE_TAG,\r\n  'td': DEFULE_TAG,\r\n  'th': DEFULE_TAG,\r\n  'col': SINGLE_TAG,\r\n  'li': DEFULE_TAG,\r\n  'dt': DEFULE_TAG,\r\n  'dd': DEFULE_TAG,\r\n  'rb': DEFULE_TAG,\r\n  'rt': DEFULE_TAG,\r\n  'rtc': DEFULE_TAG,\r\n  'rp': DEFULE_TAG,\r\n  'optgroup': DEFULE_TAG,\r\n  'option': DEFULE_TAG,\r\n  'pre': DEFULE_TAG,\r\n  'listing': DEFULE_TAG\r\n};\r\n\r\nlet _rawContentRegex: RegExp,\r\n  _escContentRegex: RegExp,\r\n  _removeCmdRegex: RegExp = /\\{\\{((?:.|\\n|\\r)*?)\\}\\}/gmi;\r\n\r\n//删除多余空格\r\nfunction _removeSpace(html: string): string {\r\n  html = html.replace(_removeCmdRegex, function (find: string, content: string) {\r\n    return ['{{', encodeURIComponent(content), '}}'].join('');\r\n  }).replace(_escContentRegex, function (find: string, name: string, attrs: string, content: string, cmdContent: string) {\r\n    return ['<', name, attrs || '', '>', encodeURIComponent(content || ''), '</', name, '>'].join('');\r\n  })\r\n    .replace(/(?:\\n|\\r)+/gmi, ' ').replace(/\\s{2,}/gmi, ' ')\r\n    .replace(_escContentRegex, function (find: string, name: string, attrs: string, content: string, cmdContent: string) {\r\n      return ['<', name, attrs || '', '>', decodeURIComponent(content || ''), '</', name, '>'].join('');\r\n    }).replace(_removeCmdRegex, function (find: string, content: string) {\r\n      return ['{{', decodeURIComponent(content), '}}'].join('');\r\n    });\r\n\r\n  return html;\r\n}\r\n\r\n/**\r\n * HtmlAttr定义\r\n */\r\nexport interface IHtmlAttrDef {\r\n  setAttribute: (element: HTMLElement, name: string, value: string, subName?: string) => void;\r\n  getAttribute: (element: HTMLElement, name: string, subName?: string) => string;\r\n  writeable: boolean;\r\n}\r\n\r\n/**\r\n * 默认HtmlAttr定义\r\n */\r\nexport const DEFAULT_ATTR: IHtmlAttrDef = {\r\n  setAttribute(element: HTMLElement, name: string, value: string, subName?: string) {\r\n    if (subName)\r\n      element[name][subName] = value;\r\n    else\r\n      element.setAttribute(name, value);\r\n  },\r\n  getAttribute(element: HTMLElement, name: string, subName?: string) {\r\n    if (subName)\r\n      return element[name][subName];\r\n    else\r\n      return element.getAttribute(name);\r\n  },\r\n  writeable: false\r\n};\r\n\r\n/**\r\n * 默认HtmlAttr prop定义\r\n */\r\nexport const DEFAULT_ATTR_PROP: IHtmlAttrDef = {\r\n  setAttribute(element: HTMLElement, name: string, value: string, subName?: string) {\r\n    if (subName)\r\n      element[name][subName] = value;\r\n    else\r\n      element[name] = value;\r\n  },\r\n  getAttribute(element: HTMLElement, name: string, subName?: string) {\r\n    if (subName)\r\n      return element[name][subName];\r\n    else\r\n      return element[name];\r\n  },\r\n  writeable: true\r\n};\r\n\r\n/**\r\n * HtmlAttr配置\r\n */\r\nexport interface IHtmlAttrDefConfig {\r\n  [name: string]: IHtmlAttrDef;\r\n}\r\n\r\nvar _htmlAttrDefConfig: IHtmlAttrDefConfig = {\r\n  'src': DEFAULT_ATTR_PROP,\r\n  'rel': DEFAULT_ATTR_PROP,\r\n  'style': DEFAULT_ATTR_PROP,\r\n  'selected': DEFAULT_ATTR_PROP,\r\n  'disabled': DEFAULT_ATTR_PROP,\r\n  'checked': DEFAULT_ATTR_PROP\r\n};\r\n\r\nexport interface IHtmlEventDef {\r\n  addEventListener: (element: HTMLElement, eventName: string, context: (event: any) => any, useCapture: boolean) => void;\r\n  removeEventListener: (element: HTMLElement, eventName: string, context: (event: any) => any, useCapture: boolean) => void;\r\n}\r\n\r\n/**\r\n * 默认事件定义\r\n */\r\nexport const DEFAULT_EVENT_DEF: IHtmlEventDef = {\r\n  addEventListener(element: HTMLElement, eventName: string, context: (event: any) => any, useCapture: boolean) {\r\n    element.addEventListener(eventName, context, useCapture);\r\n    //attachEvent\r\n  },\r\n  removeEventListener(element: HTMLElement, eventName: string, context: (event: any) => any, useCapture: boolean) {\r\n    element.addEventListener(eventName, context, useCapture);\r\n    //detachEvent\r\n  }\r\n};\r\n\r\n/**\r\n * 事件配置\r\n */\r\nexport interface IHtmlEventDefConfig {\r\n  [name: string]: IHtmlEventDef;\r\n}\r\n\r\n\r\nvar _htmlEventDefConfig: IHtmlEventDefConfig = {};\r\n\r\n\r\nexport class HtmlDef {\r\n\r\n  /**\r\n   * 获取标签定义\r\n   * @param tagName 标签名称\r\n   */\r\n  static getHtmlTagDef(tagName: string): HtmlTagDef {\r\n    return _htmlTagDefConfig[tagName.toLowerCase()] || DEFULE_TAG;\r\n  }\r\n\r\n  /**\r\n   * 扩展标签定义\r\n   * @param p 标签配置\r\n   */\r\n  static extendHtmlTagDef(p: IHtmlTagDefConfig): void {\r\n    CmpxLib.extend(_htmlTagDefConfig, p);\r\n    _makeSpecTags();\r\n  }\r\n\r\n  /**\r\n   * 获取属性定义\r\n   * @param name \r\n   */\r\n  static getHtmlAttrDef(name: string): IHtmlAttrDef {\r\n    return _htmlAttrDefConfig[name] || DEFAULT_ATTR;\r\n  }\r\n\r\n  /**\r\n   * 扩展属性定义\r\n   * @param p \r\n   */\r\n  static extendHtmlAttrDef(p: IHtmlAttrDefConfig): void {\r\n    CmpxLib.extend(_htmlAttrDefConfig, p);\r\n  }\r\n\r\n  static getHtmlEventDef(name: string): IHtmlEventDef {\r\n    return _htmlEventDefConfig[name] || DEFAULT_EVENT_DEF;\r\n  }\r\n\r\n  /**\r\n   * 扩展事件定义\r\n   * @param p \r\n   */\r\n  static extendHtmlEventDef(p: IHtmlEventDefConfig): void {\r\n    CmpxLib.extend(_htmlEventDefConfig, p);\r\n  }\r\n\r\n  // /**\r\n  //  * 单行标签\r\n  //  */\r\n  // static singleTags: { [name: string]: boolean };\r\n  // /**\r\n  //  * 内容标签，不解释内容\r\n  //  */\r\n  // static rawTags: { [name: string]: boolean };\r\n\r\n  /**\r\n   * 处理tag内容，删除多余空格，删除注释，编码某些类型内容\r\n   * @param html \r\n   */\r\n  static handleTagContent(html: string): string {\r\n    return _removeSpace(html.replace(_noteTagRegex, ''))\r\n      .replace(_rawContentRegex, function (find: string, name: string, attrs: string, content: string) {\r\n        return ['<', name, attrs || '', '>', CmpxLib.encodeHtml(content || ''), '</', name, '>'].join('');\r\n      });\r\n  }\r\n\r\n}\r\n\r\n\r\nfunction _makeSpecTags() {\r\n  let rawTags = [];\r\n  CmpxLib.eachProp(_htmlTagDefConfig, (item: HtmlTagDef, name: string) => {\r\n    item.raw && rawTags.push(name);\r\n  });\r\n  // let o = HtmlDef.singleTags = {};\r\n  // CmpxLib.each(singleTags, (name: string) => o[name] = true);\r\n  // o = HtmlDef.rawTags = {};\r\n  // CmpxLib.each(rawTags, (name: string) => o[name] = true);\r\n  // o = HtmlDef.escapeRawTags = {};\r\n  // CmpxLib.each(escapeRawTags, (name: string) => o[name] = true);\r\n\r\n  let rawNames = rawTags.join('|');\r\n  _rawContentRegex = new RegExp('<\\\\s*(' + rawNames + ')(\\\\s+(?:[^>]*))*>((?:.|\\\\n|\\\\r)*?)<\\\\s*/\\\\s*\\\\1\\\\s*>', 'gmi');\r\n  rawNames = [rawNames, 'pre'].join('|');\r\n  _escContentRegex = new RegExp('<\\\\s*(' + rawNames + ')(\\\\s+(?:[^>]*))*>((?:.|\\\\n|\\\\r)*?)<\\\\s*/\\\\s*\\\\1\\\\s*>', 'gmi');\r\n}\r\n\r\n_makeSpecTags();\r\n","import CmpxLib from './cmpxLib';\r\n\r\nexport default class CmpxEvent {\r\n    private events: any[] = [];\r\n\r\n    /**\r\n     * 绑定事件\r\n     * @param fn 绑定事件方法\r\n     */\r\n    on(fn: () => any) {\r\n        this.events.push(fn);\r\n    }\r\n\r\n    /**\r\n     * 解绑事件，如果没有指定方法，解绑所有事件\r\n     * @param fn 解绑事件方法\r\n     */\r\n    off(fn?: () => any) {\r\n        if (fn) {\r\n            let index = CmpxLib.inArray(this.events, fn);\r\n            index >= 0 && this.events.splice(index, 1);\r\n        } else\r\n            this.events = [];\r\n    }\r\n\r\n    /**\r\n     * 触发事件, 返回最后一个事件值, 如果返回false中断事件\r\n     * @param args 触发传入参数\r\n     * @param thisArg this对象\r\n     */\r\n    trigger(args: any[], thisArg: any): any {\r\n        let ret: any;\r\n        CmpxLib.each(this.events, function (item: any) {\r\n            ret = item && this.apply(thisArg, args);\r\n            return ret;\r\n        });\r\n        return ret;\r\n    }\r\n}","import CmpxLib from './cmpxLib';\r\nimport { HtmlDef, HtmlTagDef, IHtmlAttrDef, ICreateElementAttr } from './htmlDef';\r\nimport { Componet } from './componet';\r\nimport CmpxEvent from './cmpxEvent';\r\n\r\n\r\nvar _undef: any;\r\n\r\ninterface IBindInfo {\r\n    type: string;\r\n    content: string;\r\n}\r\n\r\n/**\r\n * 标签信息\r\n */\r\ninterface ITagInfo {\r\n    tagName: string;\r\n    //是否标签，如：<div>\r\n    target: boolean;\r\n    //是否指令，如：{{for}}\r\n    cmd: boolean;\r\n    find: string;\r\n    content: string;\r\n    attrs: Array<IAttrInfo>;\r\n    end: boolean;\r\n    single: boolean;\r\n    index: number;\r\n    //是否为绑定\r\n    bind?: boolean;\r\n    bindInfo?: IBindInfo;\r\n    children?: Array<ITagInfo>;\r\n    parent?: ITagInfo;\r\n    componet?: boolean;\r\n    htmlTagDef?: HtmlTagDef;\r\n}\r\n\r\n\r\n/**\r\n * 属性信息\r\n */\r\ninterface IAttrInfo {\r\n    name: string;\r\n    value: string;\r\n    bind: boolean;\r\n    bindInfo?: IBindInfo;\r\n    extend?: any;\r\n}\r\n\r\n//新建一个text节点\r\nvar _newTextContent = function (tmpl: string, start: number, end: number): ITagInfo {\r\n    var text = tmpl.substring(start, end),\r\n        bind = _cmdDecodeAttrRegex.test(text),\r\n        bindInfo: IBindInfo = bind ? _getBind(text, '\"') : null;\r\n    return {\r\n        tagName: '',\r\n        target: false,\r\n        cmd: false,\r\n        find: text,\r\n        content: bind ? \"\" : text,\r\n        attrs: null,\r\n        end: true,\r\n        single: true,\r\n        index: start,\r\n        bind: bind,\r\n        bindInfo: bindInfo\r\n    };\r\n},\r\n    _singleCmd = {\r\n        'include': true\r\n    },\r\n    _encodeURIComponentEx = function (s: string): string {\r\n        return encodeURIComponent(s).replace(/'/g, '%27');\r\n    },\r\n    //将{{this.name}}绑定标签转成$($this.name$)$\r\n    _cmdEncodeAttrRegex = /\\{\\{((?!\\/|\\s*(?:if|else|for|tmpl|include|html)[ \\}])(?:.|\\r|\\n)+?)\\}\\}/gm,\r\n    _makeTextTag = function (tmpl: string): string {\r\n        //\r\n        return tmpl.replace(_cmdEncodeAttrRegex, function (find, content) {\r\n            return ['$($', _encodeURIComponentEx(content), '$)$'].join('');\r\n        });\r\n    },\r\n    //把$($this.name$)$还原\r\n    _cmdDecodeAttrRegex = /\\$\\(\\$(.+?)\\$\\)\\$/gm,\r\n    _backTextTag = function (tmpl: string): string {\r\n        //\r\n        return tmpl.replace(_cmdDecodeAttrRegex, function (find, content) {\r\n            return ['{{', decodeURIComponent(content), '}}'].join('');\r\n        });\r\n    },\r\n    //查找分析tag和cmd\r\n    _tagInfoRegex = /\\<\\s*(\\/*)\\s*([^<>\\s]+)\\s*([^<>]*?)(\\/*)\\s*\\>|\\{\\{\\s*(\\/*)\\s*([^\\s\\{\\}]+)\\s*(.*?)(\\/*)\\}\\}/gim,\r\n    _makeTagInfos = function (tmpl: string): Array<ITagInfo> {\r\n        var lastIndex = 0, list: Array<ITagInfo> = [];\r\n\r\n        tmpl = _makeTextTag(tmpl);\r\n        tmpl = HtmlDef.handleTagContent(tmpl);\r\n        tmpl.replace(_tagInfoRegex, function (find: string, end1: string, tagName: string,\r\n            tagContent: string, end2: string, txtEnd1: string, txtName: string, txtContent: string, txtEnd2: string, index: number) {\r\n\r\n            if (index > lastIndex) {\r\n                list.push(_newTextContent(tmpl, lastIndex, index));\r\n            }\r\n\r\n            var cmd = !!txtName,\r\n                htmlTagDef = cmd ? null : HtmlDef.getHtmlTagDef(tagName),\r\n                single = !!end2 || !!txtEnd2 || (cmd ? _singleCmd[txtName] : htmlTagDef.single),\r\n                end = !!end1 || !!txtEnd1 || single;\r\n\r\n            if (cmd || !(single && !!end1)) {\r\n\r\n                var attrs = !cmd && !!tagContent ? _getAttrInfos(tagContent) : null;\r\n                if (cmd) {\r\n                    if ((single || !end)) {\r\n                        switch (txtName) {\r\n                            case 'for':\r\n                                attrs = _getForAttrInfos(txtContent);\r\n                                break;\r\n                            case 'tmpl':\r\n                            case 'include':\r\n                                attrs = _getAttrInfos(txtContent);\r\n                                break;\r\n                        }\r\n                    }\r\n                } else {\r\n                    attrs = !!tagContent ? _getAttrInfos(tagContent) : null;\r\n                }\r\n\r\n                var item: ITagInfo = {\r\n                    tagName: (tagName || txtName).toLowerCase(),\r\n                    target: !cmd,\r\n                    cmd: cmd,\r\n                    find: find,\r\n                    content: tagContent || txtContent,\r\n                    attrs: attrs,\r\n                    end: end,\r\n                    single: single,\r\n                    index: index,\r\n                    htmlTagDef: htmlTagDef,\r\n                    componet: cmd ? false : !!_registerVM[tagName]\r\n                };\r\n                list.push(item);\r\n            }\r\n\r\n            lastIndex = index + find.length;\r\n\r\n            return find;\r\n        });\r\n        var index = tmpl.length;\r\n        if (index > lastIndex) {\r\n            list.push(_newTextContent(tmpl, lastIndex, index));\r\n        }\r\n        var outList: Array<ITagInfo> = [];\r\n        _makeTagInfoChildren(list, outList, list.length);\r\n        return outList;\r\n    },\r\n    //获取attrInfo\r\n    _attrInfoRegex = /\\s*([^= ]+)\\s*=\\s*(?:([\"'])((?:.|\\n|\\r)*?)\\2|([^\"' ><]*))|\\s*([^= /]+)\\s*/gm,\r\n    _getAttrInfos = function (content: string): Array<IAttrInfo> {\r\n        var attrs: Array<IAttrInfo> = [];\r\n        content.replace(_attrInfoRegex, function (find: string, name: string, split: string,\r\n            value: string, value1: string, name1: string, index: number) {\r\n            value1 && (split = \"\\\"\", value = value1);\r\n            var bind = _cmdDecodeAttrRegex.test(value),\r\n                bindInfo = bind ? _getBind(value, split) : null;\r\n            attrs.push({\r\n                name: (name || name1).toLowerCase(),\r\n                value: value,\r\n                bind: bind,\r\n                bindInfo: bindInfo\r\n            });\r\n            return find;\r\n        });\r\n        return attrs;\r\n    },\r\n    //获取cmd form attrInfo\r\n    //_forAttrRegex = /\\s*([^\\s]+)\\s*\\in\\s*([^\\s]+)\\s*(?:\\s*tmpl\\s*=\\s*([\\'\\\"])(.*?)\\3)*/i,\r\n    _forAttrRegex = /\\s*([^\\s]+)\\s*\\in\\s*([^\\s]+)\\s*/i,\r\n    _getForAttrInfos = function (content: string): Array<IAttrInfo> {\r\n        var extend = _forAttrRegex.exec(content);\r\n        var attrs: Array<IAttrInfo> = [{\r\n            name: '',\r\n            value: '',\r\n            bind: true,\r\n            extend: {\r\n                item: extend[1],\r\n                datas: extend[2],\r\n                tmpl: extend[4]\r\n            }\r\n        }];\r\n        return attrs;\r\n    },\r\n    _bindTypeRegex = /^\\s*([\\<\\>\\:\\@\\#])\\s*(.*)/,\r\n    _removeEmptySplitRegex = /^['\"]{2,2}\\+|\\+['\"]{2,2}/g,\r\n    //获取内容绑定信息，如 name=\"aaa{{this.name}}\"\r\n    _getBind = function (value: string, split: string): IBindInfo {\r\n        let write: string, event: string,\r\n            onceList = [], read: boolean = false, isOnce: boolean = false;\r\n        let type: string = '', txt: string, reg: any, readContent: string = [split, value.replace(_cmdDecodeAttrRegex, function (find: string, content: string, index: number) {\r\n            content = decodeURIComponent(content);\r\n            reg = _bindTypeRegex.exec(content);\r\n            if (reg) {\r\n                type = reg[1];\r\n                txt = reg[2];\r\n            } else {\r\n                type = '';\r\n                txt = content;\r\n            }\r\n            let readTxt = '';\r\n            switch (type) {\r\n                case ':'://一次只读\r\n                    onceList.push(txt);\r\n                    isOnce = true;\r\n                    readTxt = [split, 'once' + (onceList.length - 1), split].join('+');\r\n                    break;\r\n                case '@'://事件\r\n                    event = txt;\r\n                    break;\r\n                case '>'://只写\r\n                    write = txt;\r\n                    break;\r\n                case '#'://读写\r\n                    write = txt;\r\n                case '<'://只读\r\n                default:\r\n                    read = true;\r\n                    readTxt = [split, 'CmpxLib.toStr(' + txt + ')', split].join('+');\r\n                    break;\r\n            }\r\n            return readTxt;\r\n        }), split].join('');\r\n        readContent = readContent.replace(_removeEmptySplitRegex, '');\r\n        // if (isSingeBind)\r\n        //     readContent = readContent.replace(_removeEmptySplitRegex, '');\r\n        //     //readContent = readContentSg;\r\n        // if (isSingeBind) console.log('isSingeBind', readContent);\r\n\r\n        var once: string;\r\n        if (write || read || isOnce || onceList.length > 0) {\r\n            if (isOnce) {\r\n                let oList = [];\r\n                CmpxLib.each(onceList, function (item: string, index: number) {\r\n                    oList.push(['once', index, ' = CmpxLib.toStr(', item, ')'].join(''));\r\n                });\r\n                once = 'var ' + oList.join(',') + ';';\r\n            }\r\n            write && (write = 'function(val){ ' + write + ' = val; }');\r\n            event = null;\r\n        } else if (event) {\r\n            event = 'function(event){ ' + event + '; }';\r\n        }\r\n\r\n        readContent = `(function(){\r\n  ${once ? once : ''}\r\n  return {\r\n    once:${once ? (read ? 'false' : 'true') : 'false'},\r\n    read:${read || isOnce ? 'function(){ return ' + readContent + '; }' : 'null'},\r\n    write:${write ? write : 'null'},\r\n    event:${event ? event : 'null'}\r\n  };\r\n}).call(componet)`;\r\n\r\n        return { type: type, content: readContent };\r\n    },\r\n    _makeTagInfoChildren = function (attrs: Array<ITagInfo>, outList: Array<ITagInfo>,\r\n        len: number, index: number = 0, parent: ITagInfo = null): number {\r\n        var item: ITagInfo;\r\n        while (index < len) {\r\n            item = attrs[index++];\r\n            if (item.cmd || item.target) {\r\n                if (item.single)\r\n                    outList.push(item);\r\n                else if (item.end) {\r\n                    break;\r\n                } else {\r\n                    outList.push(item);\r\n                    item.children = [];\r\n                    index = _makeTagInfoChildren(attrs, item.children, len, index, item);\r\n                    if (item && item.cmd && item.tagName == 'else')\r\n                        break;\r\n                }\r\n            } else {\r\n                outList.push(item);\r\n            }\r\n        }\r\n        return index;\r\n    };\r\n\r\n\r\nexport interface IVMConfig {\r\n    //标签名称\r\n    name: string;\r\n    //模板，可以编译后的function, 如果有配置tmplUrl, 优先使用tmplUrl\r\n    tmpl?: string | Function;\r\n    //模板url，可以编译后的function，如果加载失败使用tmpl内容\r\n    tmplUrl?: string | Function;\r\n    //样式文本, 可以和sytleUrl同时使用\r\n    style?: string;\r\n    //样式url, 可以和sytle同时使用\r\n    styleUrl?: string;\r\n}\r\n\r\ninterface IVM {\r\n    render: CompileRender;\r\n    componetDef: Function\r\n}\r\n\r\nvar _registerVM: { [selector: string]: IVM } = {},\r\n    _vmName = '__vm__',\r\n    _getVmConfig = function (componetDef: any): IVMConfig {\r\n        return componetDef.prototype[_vmName];\r\n    },\r\n    _getVmByComponetDef = function (componetDef: any): { render: CompileRender, componetDef: Function } {\r\n        var config = _getVmConfig(componetDef);\r\n        return config ? _registerVM[config.name] : null;\r\n    },\r\n    _readyRd = false,\r\n    _renderPR = [];\r\n\r\n/**\r\n * 注入组件配置信息\r\n * @param config \r\n */\r\nexport function VM(vm: IVMConfig) {\r\n    return function (constructor: Function) {\r\n        _registerVM[vm.name] = {\r\n            render: null,\r\n            componetDef: constructor\r\n        };\r\n        var rdF = function () {\r\n            _registerVM[vm.name].render = new CompileRender(vm.tmpl, constructor);\r\n            let head = document.head;\r\n            if (vm.style) {\r\n                head.appendChild(HtmlDef.getHtmlTagDef('style').createElement('style', [{\r\n                    name: 'type', value: 'text/css'\r\n                }], head, vm.style));\r\n            }\r\n            if (vm.styleUrl) {\r\n                head.appendChild(HtmlDef.getHtmlTagDef('link').createElement('link', [{\r\n                    name: 'rel', value: 'stylesheet'\r\n                }, {\r\n                    name: 'href', value: vm.styleUrl\r\n                }], head, vm.style));\r\n            }\r\n            //优先tmplUrl\r\n            let tmplUrl: any = vm.tmplUrl;\r\n            if (CmpxLib.isString(tmplUrl) && _loadTmplFn) {\r\n                _tmplCount++;\r\n                _loadTmplFn(tmplUrl, function (tmpl: string | Function) {\r\n                    _registerVM[vm.name].render = new CompileRender(tmpl || vm.tmpl || '', constructor);\r\n                    _tmplCount--;\r\n                    _tmplChk();\r\n                });\r\n            } else\r\n                _registerVM[vm.name].render = new CompileRender(tmplUrl || vm.tmpl || '', constructor);\r\n        };\r\n        _readyRd ? rdF() : _renderPR.push(rdF);\r\n        constructor.prototype.$name = vm.name;\r\n        constructor.prototype[_vmName] = vm;\r\n    };\r\n}\r\n\r\nlet _tmplCount = 0, _tmplFnList = [], _tmplLoaded = function (callback) {\r\n    if (_tmplCount == 0)\r\n        callback && callback();\r\n    else\r\n        callback && _tmplFnList.push(callback);\r\n}, _tmplChk = function () {\r\n    (_tmplCount == 0) && CmpxLib.each(_tmplFnList, function (item: any) {\r\n        console.log('aaa');\r\n        item();\r\n    });\r\n};\r\n\r\ninterface IViewvarDef {\r\n    name: string;\r\n    propKey: string;\r\n}\r\nvar _viewvarName = '__viewvar__',\r\n    _getViewvarDef = function (componet: Componet): IViewvarDef[] {\r\n        return componet[_viewvarName];\r\n    };\r\n/**\r\n * 引用模板变量$var\r\n * @param name 变量名称，未指定为属性名称\r\n */\r\nexport function viewvar(name?: string) {\r\n    return function (componet: Componet, propKey: string) {\r\n        name || (name = propKey);\r\n        var vv: IViewvarDef[] = (componet[_viewvarName] || (componet[_viewvarName] = []));\r\n        vv.push({\r\n            name: name || propKey,\r\n            propKey: propKey\r\n        });\r\n    }\r\n}\r\n\r\ninterface ISubscribeEvent {\r\n    componet: Componet;\r\n    param?: any;\r\n}\r\n\r\nexport interface ISubscribeParam {\r\n    //视图初始化\r\n    init?: (p: ISubscribeEvent) => void;\r\n    //更新视图\r\n    update?: (p: ISubscribeEvent) => void;\r\n    //更新视图之后\r\n    updateAfter?: (p: ISubscribeEvent) => void;\r\n    //节点插入dom之后\r\n    insertDoc?: (p: ISubscribeEvent) => void;\r\n    //视图准备好\r\n    ready?: (p: ISubscribeEvent) => void;\r\n    //节点或视图删除\r\n    remove?: (p: ISubscribeEvent) => void;\r\n    isRemove?: boolean;\r\n}\r\n\r\nexport class CompileSubject {\r\n    private datas: Array<ISubscribeParam> = [];\r\n\r\n    constructor(subject?: CompileSubject, exclude?: { [type: string]: boolean }) {\r\n        if (subject) {\r\n            if (!(this.isRemove = subject.isRemove)) {\r\n                this.linkParam = subject.subscribe({\r\n                    init: (p: ISubscribeEvent) => (!exclude || !exclude.init) && this.init(p),\r\n                    update: (p: ISubscribeEvent) => (!exclude || !exclude.update) && this.update(p),\r\n                    insertDoc: (p: ISubscribeEvent) => (!exclude || !exclude.insertDoc) && this.insertDoc(p),\r\n                    ready: (p: ISubscribeEvent) => (!exclude || !exclude.ready) && this.ready(p),\r\n                    remove: (p: ISubscribeEvent) => (!exclude || !exclude.remove) && this.remove(p)\r\n                });\r\n                this.subject = subject;\r\n                this.isInit = subject.isInit;\r\n                this.lastInitP = subject.lastInitP;\r\n            }\r\n        }\r\n    }\r\n\r\n    subscribe(p: ISubscribeParam): ISubscribeParam {\r\n        if (!this.isRemove) {\r\n            this.datas.push(p);\r\n            if (this.isInit)\r\n                p.init && (p.init(this.lastInitP), p.init = null);\r\n        }\r\n        return p;\r\n    }\r\n\r\n    unSubscribe(p: ISubscribeParam): void {\r\n        let index = this.datas.indexOf(p);\r\n        if (index >= 0)\r\n            this.datas.splice(index, 1);\r\n    }\r\n\r\n    private linkParam: ISubscribeParam;\r\n    private subject: CompileSubject;\r\n    unLinkSubject(): CompileSubject {\r\n        this.subject && this.subject.unSubscribe(this.linkParam);\r\n        return this;\r\n    }\r\n\r\n    isInit: boolean = false;\r\n    lastInitP: any;\r\n    init(p: ISubscribeEvent) {\r\n        if (this.isRemove) return;\r\n        this.isInit = true;\r\n        this.lastInitP = p;\r\n        CmpxLib.each(this.datas, function (item: ISubscribeParam) {\r\n            if (item.init) {\r\n                item.init(p);\r\n                item.init = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    update(p: ISubscribeEvent) {\r\n        if (this.isRemove) return;\r\n        CmpxLib.each(this.datas, function (item: ISubscribeParam) {\r\n            if (item.update) {\r\n                item.update && item.update(p);\r\n            }\r\n        });\r\n        this.updateAfter(p);\r\n    }\r\n\r\n    private updateAfter(p: ISubscribeEvent) {\r\n        if (this.isRemove) return;\r\n        CmpxLib.each(this.datas, function (item: ISubscribeParam) {\r\n            if (item.updateAfter) {\r\n                item.updateAfter && item.updateAfter(p);\r\n            }\r\n        });\r\n    }\r\n\r\n    insertDoc(p: ISubscribeEvent) {\r\n        if (this.isRemove) return;\r\n        CmpxLib.each(this.datas, function (item: ISubscribeParam) {\r\n            if (item.insertDoc) {\r\n                item.insertDoc(p);\r\n                item.insertDoc = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    ready(p: ISubscribeEvent) {\r\n        if (this.isRemove) return;\r\n        CmpxLib.each(this.datas, function (item: ISubscribeParam) {\r\n            if (item.ready) {\r\n                item.ready(p);\r\n                item.ready = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    isRemove: boolean = false;\r\n    remove(p: ISubscribeEvent) {\r\n        if (this.isRemove) return;\r\n        this.isRemove = true;\r\n        this.unLinkSubject();\r\n        var datas = this.datas;\r\n        this.datas = [];\r\n        CmpxLib.each(datas, function (item: ISubscribeParam) {\r\n            if (item.remove) {\r\n                item.remove(p);\r\n                item.remove = null;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nlet _tmplName = '__tmpl__',\r\n    _getComponetTmpl = function (componet: Componet, id: string): any {\r\n        let tmpls = componet[_tmplName];\r\n        if (!tmpls || !tmpls[id])\r\n            return componet.$parent ? _getComponetTmpl(componet.$parent, id) : null;\r\n        else\r\n            return tmpls[id];\r\n    },\r\n    _insertAfter = function (newElement: Node, refElement: Node, parent: Node) {\r\n        let nextSibling = refElement.nextSibling;\r\n        if (nextSibling) {\r\n            parent.insertBefore(newElement, nextSibling);\r\n        } else\r\n            parent.appendChild(newElement);\r\n    },\r\n    _createTempNode = function (): Node {\r\n        return document.createTextNode('');\r\n        // let element:Node = document.createElement('script');\r\n        // element['type'] = 'text/html';\r\n        // return element;\r\n    },\r\n    _getRefNode = function (parentNode: Node, insertTemp: boolean): { refNode: Node, isInsertTemp: boolean } {\r\n        var tNode: Node;\r\n        if (insertTemp) {\r\n            tNode = _createTempNode();\r\n            parentNode.appendChild(tNode);\r\n        } else {\r\n            tNode = parentNode.lastChild;\r\n            if (!tNode) {\r\n                insertTemp = true;\r\n                tNode = _createTempNode();\r\n                parentNode.appendChild(tNode);\r\n            }\r\n        }\r\n        //注意tmplElement是Comment, 在IE里只能取到parentNode\r\n        return { refNode: tNode, isInsertTemp: insertTemp };\r\n    },\r\n    _equalArrayIn = function (array1: Array<any>, array2: Array<any>) {\r\n        var ok = true;\r\n        CmpxLib.each(array1, function (item, index) {\r\n            if (item != array2[index]) {\r\n                ok = false; return false;\r\n            }\r\n        });\r\n        return ok;\r\n    },\r\n    _equalArray = function (array1: Array<any>, array2: Array<any>): boolean {\r\n        if ((!array1 || !array2)) return array1 == array2;\r\n\r\n        return array1.length == array2.length && _equalArrayIn(array1, array2);\r\n    },\r\n    _getParentElement = function (node: Node): HTMLElement {\r\n        return node.parentElement || (node.parentNode as HTMLElement);\r\n    },\r\n    _removeChildNodes = function (childNodes: Node[]) {\r\n        if (childNodes && childNodes.length > 0) {\r\n            let pNode: Node;\r\n            CmpxLib.each(childNodes, function (item: Node) {\r\n                (pNode = _getParentElement(item)) && pNode.removeChild(item);\r\n            });\r\n        }\r\n        return null;\r\n    };\r\n\r\nexport class CompileRender {\r\n\r\n    /**\r\n     * 编译的结果，Function\r\n     */\r\n    readonly contextFn: Function;\r\n    private componetDef: any;\r\n    private param: Object;\r\n\r\n    /**\r\n     * \r\n     * @param tmpl html模板文本\r\n     * @param componetDef 组件定义类，如果没有传为临时模板\r\n     */\r\n    constructor(context: any, componetDef?: Componet | Function, param?: Object) {\r\n        this.componetDef = componetDef;\r\n        this.param = param;\r\n        let fn: any;\r\n        if (CmpxLib.isString(context)) {\r\n            let tagInfos = _makeTagInfos(CmpxLib.trim(context, true));\r\n            fn = _buildCompileFn(tagInfos, param);\r\n            //console.log(tagInfos);\r\n        } else\r\n            fn = context;\r\n\r\n        // console.log(fn.toString());\r\n\r\n        this.contextFn = fn;\r\n    }\r\n\r\n    /**\r\n     * 编译并插入到document\r\n     * @param refElement 在element之后插入内容\r\n     * @param parentComponet 父组件\r\n     */\r\n    complie(refNode: Node, parentComponet?: Componet, subject?: CompileSubject, contextFn?: (component: Componet, element: HTMLElement, subject: CompileSubject) => void, subjectExclude?: { [type: string]: boolean }): { newSubject: CompileSubject, refComponet: Componet } {\r\n        var componetDef: any = this.componetDef;\r\n\r\n        subject || (subject = (parentComponet ? parentComponet.$subObject : null));\r\n        subjectExclude || (subjectExclude = {});\r\n        //subjectExclude.remove = true;\r\n        subjectExclude.insertDoc = true;\r\n\r\n        let componet: any,\r\n            isNewComponet: boolean = false,\r\n            parentElement: HTMLElement = _getParentElement(refNode),\r\n            newSubject: CompileSubject = new CompileSubject(subject, subjectExclude);\r\n        if (componetDef) {\r\n            isNewComponet = true;\r\n            componet = new componetDef();\r\n            componet.$name = name;\r\n            componet.$subObject = newSubject;\r\n            componet.$parentElement = parentElement;\r\n            componet.$parent = parentComponet;\r\n\r\n            parentComponet && parentComponet.$children.push(componet);\r\n\r\n        } else {\r\n            //如果没有componetDef，为临时tmpl\r\n            //传入的parentComponet为当前的componet\r\n            componet = parentComponet;\r\n        }\r\n\r\n        //如果临时tmpl没有parentComponet报错\r\n        if (!componet) {\r\n            throw new Error('render缺少Componet参数');\r\n        }\r\n        //注意parentElement问题，但现在context只能放{{tmpl}}\r\n        contextFn && contextFn(componet, parentElement, newSubject);\r\n\r\n        newSubject.subscribe({\r\n            remove: function (p: ISubscribeEvent) {\r\n                try {\r\n                    isNewComponet && (componet.$isDisposed = true, componet.onDispose());\r\n                    if (p.componet == componet)\r\n                        childNodes = _removeChildNodes(childNodes);\r\n                } catch (e) {\r\n                    CmpxLib.trace(e);\r\n                } finally {\r\n\r\n                    if (isNewComponet) {\r\n                        if (parentComponet && !parentComponet.$isDisposed) {\r\n                            var childs = parentComponet.$children,\r\n                                idx = childs.indexOf(componet);\r\n                            (idx >= 0) && childs.splice(idx, 1);\r\n                        }\r\n\r\n                        componet.$subObject = componet.$children = //componet.$elements =\r\n                            componet.$parent = componet.$parentElement = null;\r\n                    }\r\n                }\r\n            },\r\n            updateAfter: function (p: ISubscribeEvent) {\r\n                isNewComponet && retFn && retFn.call(componet);\r\n\r\n            }\r\n        });\r\n        let childNodes: Node[], retFn;\r\n        let fragment: DocumentFragment, initFn = () => {\r\n            newSubject.init({\r\n                componet: componet\r\n            });\r\n            fragment = document.createDocumentFragment();\r\n            subject && subject.subscribe({\r\n                remove: function (p: ISubscribeEvent) {\r\n                    fragment = refNode = componet = parentElement = parentComponet = null;\r\n                }\r\n            });\r\n            retFn = this.contextFn.call(componet, CmpxLib, Compile, componet, fragment, newSubject, this.param, function (vvList: any[]) {\r\n                if (!vvList || vvList.length == 0) return;\r\n                let vvDef: IViewvarDef[] = _getViewvarDef(this);\r\n                if (!vvDef) return;\r\n                CmpxLib.each(vvDef, function (def: IViewvarDef) {\r\n                    let propKey = def.propKey, name = def.name;\r\n                    CmpxLib.each(vvList, function (item: { name: string, p: any, isL: boolean }) {\r\n                        if (item.name == name) {\r\n                            if (item.isL) {\r\n                                if (!this[propKey] || item.p.length > 0)\r\n                                    this[propKey] = item.p.splice(0);\r\n                            } else\r\n                                this[propKey] = item.p;\r\n                            return false;\r\n                        }\r\n                    }, this);\r\n                }, this);\r\n            });\r\n            newSubject.update({\r\n                componet: componet\r\n            });\r\n            if (isNewComponet) {\r\n                componet.onInitViewvar(readyFn, null);\r\n            }\r\n            else\r\n                readyFn();\r\n        },\r\n            readyFn = function () {\r\n                childNodes = CmpxLib.toArray(fragment.childNodes);\r\n                _insertAfter(fragment, refNode, parentElement);\r\n                newSubject.insertDoc({\r\n                    componet: componet\r\n                });\r\n                isNewComponet && componet.onReady(function () { }, null);\r\n                newSubject.ready({\r\n                    componet: componet\r\n                });\r\n                //reay后再次补发update\r\n                newSubject.update({\r\n                    componet: componet\r\n                });\r\n            };\r\n        if (isNewComponet) {\r\n            componet.onInit(function (err) {\r\n                initFn();\r\n            }, null);\r\n        }\r\n        else\r\n            initFn();\r\n\r\n        return { newSubject: newSubject, refComponet: componet };\r\n    }\r\n}\r\n\r\nlet _loadTmplFn: (url: string, cb: (tmpl: string | Function) => void) => void;\r\n\r\nexport class Compile {\r\n\r\n    /**\r\n     * 编译器启动，用于htmlDef配置后\r\n     */\r\n    public static startUp() {\r\n        if (_readyRd) return;\r\n        _readyRd = true;\r\n        CmpxLib.each(_renderPR, function (item: any) {\r\n            item();\r\n        });\r\n        _renderPR = null;\r\n    }\r\n\r\n    public static loadTmplCfg(loadTmplFn: (url: string, cb: (tmpl: string | Function) => void) => void): void {\r\n        _loadTmplFn = loadTmplFn;\r\n    }\r\n\r\n    public static createComponet(\r\n        name: string, componet: Componet, parentElement: HTMLElement, subject: CompileSubject,\r\n        contextFn: (component: Componet, element: HTMLElement, subject: CompileSubject) => void\r\n    ): void {\r\n        if (subject.isRemove) return;\r\n\r\n        let vm: IVM = _registerVM[name],\r\n            componetDef: any = vm.componetDef,\r\n            { refNode, isInsertTemp } = _getRefNode(parentElement, false);\r\n\r\n        Compile.renderComponet(componetDef, refNode, function () { }, componet, subject, contextFn);\r\n\r\n    }\r\n\r\n    public static setAttributeCP(element: HTMLElement, name: string, content: any, componet: Componet, subject: CompileSubject): void {\r\n        let isObj = !CmpxLib.isString(content),\r\n            parent = componet.$parent;\r\n        if (isObj) {\r\n            let isEvent = !!content.event,\r\n                update;\r\n            if (isEvent) {\r\n                let isBind = false,\r\n                    eventDef = componet[name],\r\n                    eventFn: any = function (args) { return content.event.apply(componet, args); };\r\n                eventDef || (eventDef = componet[name] = new CmpxEvent());\r\n                subject.subscribe({\r\n                    update: function (p: ISubscribeEvent) {\r\n                        if (isBind) return;\r\n                        isBind = true;\r\n                        eventDef.on(eventFn);\r\n                    },\r\n                    remove: function (p: ISubscribeEvent) {\r\n                        isBind && eventDef.off();\r\n                        componet[name] = null;\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                let value: any, newValue: any,\r\n                    isWrite: boolean = !!content.write,\r\n                    isRead: boolean = !!content.read,\r\n                    writeFn = function (p: ISubscribeEvent) {\r\n                        newValue = componet[name];\r\n                        if (value != newValue) {\r\n                            value = newValue;\r\n                            content.write.call(parent, newValue);\r\n                            parent.$updateAsync();\r\n                        }\r\n                    };\r\n                let attrDef: IHtmlAttrDef = HtmlDef.getHtmlAttrDef(name);\r\n                subject.subscribe({\r\n                    update: function (p: ISubscribeEvent) {\r\n                        if (isRead) {\r\n                            newValue = content.read.call(parent);\r\n                            if (value != newValue) {\r\n                                value = newValue;\r\n                                componet[name] = value;\r\n                                componet.$updateAsync();\r\n                            } else if (isWrite) {\r\n                                writeFn(p);\r\n                            }\r\n                        } else if (isWrite) {\r\n                            writeFn(p);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        } else\r\n            componet[name] = content;\r\n    }\r\n\r\n    public static createElement(name: string, attrs: ICreateElementAttr[], componet: Componet, parentElement: HTMLElement, subject: CompileSubject,\r\n        contextFn: (componet: Componet, element: HTMLElement, subject: CompileSubject) => void, content?: string): void {\r\n\r\n        if (subject.isRemove) return;\r\n\r\n        let element: HTMLElement = HtmlDef.getHtmlTagDef(name).createElement(name, attrs, parentElement, content);\r\n        parentElement.appendChild(element);\r\n        contextFn && contextFn(componet, element, subject);\r\n    }\r\n\r\n    public static createTextNode(content: any, componet: Componet, parentElement: HTMLElement, subject: CompileSubject): Text {\r\n        if (subject.isRemove) return;\r\n\r\n        let isObj = !CmpxLib.isString(content),\r\n            value: string = '',\r\n            once: boolean = isObj ? content.once : false,\r\n            readFn = isObj ? 　content.read : null,\r\n            textNode = document.createTextNode(isObj ? (once ? readFn.call(componet) : value) : content);\r\n        parentElement.appendChild(textNode);\r\n        subject.subscribe({\r\n            update: function (p: ISubscribeEvent) {\r\n                if (!once && readFn) {\r\n                    var newValue = readFn.call(componet);\r\n                    if (value != newValue) {\r\n                        value = newValue;\r\n                        textNode[('textContent' in textNode) ? 'textContent' : 'nodeValue'] = newValue;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        return textNode;\r\n    }\r\n\r\n    public static setAttribute(element: HTMLElement, name: string, subName: string, content: any, componet: Componet, subject: CompileSubject): void {\r\n        let isObj = !CmpxLib.isString(content);\r\n        if (isObj) {\r\n            let isEvent = !!content.event,\r\n                update, eventDef;\r\n            if (isEvent) {\r\n                let isBind = false,\r\n                    eventFn = function (e) { return content.event.call(componet, event); };\r\n                eventDef = HtmlDef.getHtmlEventDef(name);\r\n                subject.subscribe({\r\n                    update: function (p: ISubscribeEvent) {\r\n                        if (isBind) return;\r\n                        isBind = true;\r\n                        eventDef.addEventListener(element, name, eventFn, false);\r\n                    },\r\n                    remove: function (p: ISubscribeEvent) {\r\n                        if (isBind) {\r\n                            eventDef.removeEventListener(element, name, eventFn, false);\r\n                        }\r\n                    }\r\n                });\r\n\r\n            } else {\r\n                let value: any = '', newValue: any,\r\n                    isWrite: boolean = !!content.write,\r\n                    isRead: boolean = !!content.read,\r\n                    writeFn = function () {\r\n                        newValue = attrDef.getAttribute(element, name);\r\n                        if (value != newValue) {\r\n                            value = newValue;\r\n                            content.write.call(componet, newValue);\r\n                            componet.$updateAsync();\r\n                        }\r\n                    };\r\n\r\n                let attrDef: IHtmlAttrDef = HtmlDef.getHtmlAttrDef(name);\r\n                if (isWrite) {\r\n                    eventDef = HtmlDef.getHtmlEventDef(name);\r\n                    eventDef.addEventListener(element, 'change', writeFn, false);\r\n                    eventDef.addEventListener(element, 'click', writeFn, false);\r\n                }\r\n                subject.subscribe({\r\n                    update: function (p: ISubscribeEvent) {\r\n                        if (isRead) {\r\n                            newValue = content.read.call(componet);\r\n                            if (value != newValue) {\r\n                                value = newValue;\r\n                                attrDef.setAttribute(element, name, value, subName);\r\n                            }\r\n                        }\r\n                    },\r\n                    remove: function (p: ISubscribeEvent) {\r\n                        if (isWrite) {\r\n                            eventDef.removeEventListener(element, 'change', writeFn, false);\r\n                            eventDef.removeEventListener(element, 'click', writeFn, false);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        } else\r\n            HtmlDef.getHtmlAttrDef(name).setAttribute(element, name, content);\r\n    }\r\n\r\n    public static forRender(\r\n        dataFn: (componet: Componet, element: HTMLElement, subject: CompileSubject) => any,\r\n        eachFn: (item: any, count: number, index: number, componet: Componet, element: HTMLElement, subject: CompileSubject) => any,\r\n        componet: Componet, parentElement: HTMLElement, insertTemp: boolean, subject: CompileSubject\r\n    ): void {\r\n\r\n        if (subject.isRemove || !dataFn || !eachFn) return;\r\n\r\n        let { refNode, isInsertTemp } = _getRefNode(parentElement, insertTemp);\r\n\r\n        let value: any, newSubject: CompileSubject;\r\n        let fragment: DocumentFragment, childNodes: Node[], removeFn = function () {\r\n            childNodes = _removeChildNodes(childNodes);\r\n        };\r\n        subject.subscribe({\r\n            update: function (p: ISubscribeEvent) {\r\n                let datas = dataFn.call(componet, componet, parentElement, subject);\r\n                if (!_equalArray(datas, value)) {\r\n                    value = datas;\r\n\r\n                    removeFn();\r\n                    newSubject && newSubject.remove({\r\n                        componet: componet\r\n                    });\r\n\r\n                    newSubject = new CompileSubject(subject, { insertDoc: true });\r\n\r\n                    fragment = document.createDocumentFragment();\r\n                    let count = datas ? datas.length : 0;\r\n                    CmpxLib.each(datas, function (item, index) {\r\n                        eachFn.call(componet, item, count, index, componet, fragment, newSubject);\r\n                    });\r\n                    newSubject.update({\r\n                        componet: componet\r\n                    });\r\n                    childNodes = CmpxLib.toArray(fragment.childNodes);\r\n                    _insertAfter(fragment, refNode, parentElement);\r\n                    newSubject.insertDoc({\r\n                        componet: componet\r\n                    });\r\n                }\r\n            },\r\n            remove: function (p: ISubscribeEvent) {\r\n                removeFn();\r\n                newSubject = fragment = childNodes = refNode = null;\r\n            }\r\n        });\r\n    }\r\n\r\n    public static ifRender(\r\n        ifFun: (componet: Componet, element: HTMLElement, subject: CompileSubject) => any,\r\n        trueFn: (componet: Componet, element: HTMLElement, subject: CompileSubject) => any,\r\n        falseFn: (componet: Componet, element: HTMLElement, subject: CompileSubject) => any,\r\n        componet: Componet, parentElement: HTMLElement, insertTemp: boolean, subject: CompileSubject\r\n    ): void {\r\n\r\n        if (subject.isRemove) return;\r\n\r\n        var { refNode, isInsertTemp } = _getRefNode(parentElement, insertTemp);\r\n\r\n        var value, newSubject: CompileSubject;\r\n        var fragment: DocumentFragment, childNodes: Node[], removeFn = function () {\r\n            childNodes = _removeChildNodes(childNodes);\r\n        };\r\n        subject.subscribe({\r\n            update: function (p: ISubscribeEvent) {\r\n                let newValue = !!ifFun.call(componet, componet, parentElement, subject);\r\n\r\n                if (newValue != value) {\r\n                    value = newValue;\r\n\r\n                    removeFn();\r\n                    newSubject && newSubject.remove({\r\n                        componet: componet\r\n                    });\r\n\r\n                    newSubject = new CompileSubject(subject, { insertDoc: true });\r\n\r\n                    fragment = document.createDocumentFragment();\r\n                    if (newValue)\r\n                        trueFn.call(componet, componet, fragment, newSubject);\r\n                    else\r\n                        falseFn.call(componet, componet, fragment, newSubject);\r\n                    newSubject.update({\r\n                        componet: componet\r\n                    });\r\n                    childNodes = CmpxLib.toArray(fragment.childNodes);\r\n                    _insertAfter(fragment, refNode, _getParentElement(refNode));\r\n                    newSubject.insertDoc({\r\n                        componet: componet\r\n                    });\r\n                }\r\n            },\r\n            remove: function (p: ISubscribeEvent) {\r\n                removeFn();\r\n                newSubject = fragment = childNodes = refNode = null;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public static tmplRender(id, componet: Componet, parentElement: HTMLElement, subject: CompileSubject,\r\n        contextFn: (componet: Componet, element: HTMLElement, subject: CompileSubject, param: any) => void): void {\r\n\r\n        if (subject.isRemove) return;\r\n\r\n        var tmpls = componet[_tmplName];\r\n        tmpls || (tmpls = componet[_tmplName] = {});\r\n\r\n        tmpls[id] = function (componet: Componet, element: HTMLElement, subject: CompileSubject, param: any) {\r\n            contextFn && contextFn.call(componet, componet, element, subject, param);\r\n        };\r\n    }\r\n\r\n    public static includeRender(context: any, componet: Componet, parentElement: HTMLElement, insertTemp: boolean, subject: CompileSubject, param: any): void {\r\n        if (!context || subject.isRemove) return;\r\n\r\n        if (CmpxLib.isString(context)) {\r\n            let tmpl = _getComponetTmpl(componet, context);\r\n            tmpl && tmpl.call(componet, componet, parentElement, subject, param || {});\r\n        } else {\r\n            let render: CompileRender,\r\n                preSubject: CompileSubject, preComponet: Componet,\r\n                { refNode, isInsertTemp } = _getRefNode(parentElement, insertTemp);\r\n\r\n            subject.subscribe({\r\n                update: function (p: ISubscribeEvent) {\r\n                    let newRender: CompileRender = context.call(componet);\r\n\r\n                    if (newRender != render) {\r\n                        render = newRender;\r\n\r\n                        preSubject && preSubject.remove({\r\n                            componet: preComponet\r\n                        });\r\n\r\n                        let { newSubject, refComponet } = newRender.complie(refNode, componet, subject);\r\n                        preSubject = newSubject;\r\n                        preComponet = refComponet;\r\n\r\n                    }\r\n                },\r\n                remove: function (p: ISubscribeEvent) {\r\n                    render = null;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    static renderComponet(componetDef: any, refNode: Node,\r\n        complieEnd?: (newSubject: CompileSubject, refComponet: Componet) => void,\r\n        parentComponet?: Componet, subject?: CompileSubject,\r\n        contextFn?: (component: Componet, element: HTMLElement, subject: CompileSubject) => void): void {\r\n\r\n        _tmplLoaded(function () {\r\n            let vm = _getVmByComponetDef(componetDef),\r\n                render = vm && vm.render;\r\n            if (!vm) throw new Error('not find @VM default!');\r\n            let { newSubject, refComponet } = render.complie(refNode, parentComponet, subject, contextFn, { update: true });\r\n            complieEnd && complieEnd.call(refComponet, newSubject, refComponet);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nvar _buildCompileFn = function (tagInfos: Array<ITagInfo>, param?: Object): Function {\r\n    var outList = [], varNameList = [];\r\n\r\n    _buildCompileFnContent(tagInfos, outList, varNameList, true);\r\n\r\n    varNameList.length > 0 && outList.unshift('var ' + varNameList.join(',') + ';');\r\n    param && outList.unshift(_getCompileFnParam(param));\r\n    outList.unshift(`var __tmplRender = Compile.tmplRender,\r\n    __createComponet = Compile.createComponet,\r\n    __setAttributeCP = Compile.setAttributeCP,\r\n    __createElement = Compile.createElement,\r\n    __setAttribute = Compile.setAttribute,\r\n    __createTextNode = Compile.createTextNode,\r\n    __forRender = Compile.forRender,\r\n    __ifRender = Compile.ifRender,\r\n    __includeRender = Compile.includeRender;`);\r\n\r\n    outList.push(_buildCompileFnReturn(varNameList));\r\n\r\n    return new Function('CmpxLib', 'Compile', 'componet', 'element', 'subject', '__p__', 'initViewvar', outList.join('\\n'));\r\n},\r\n    _getCompileFnParam = function (param: Object): string {\r\n        var pList = [];\r\n        CmpxLib.eachProp(param, function (item, name) {\r\n            pList.push([name, ' = ', '__p__.', name].join(''));\r\n        });\r\n        return 'var ' + pList.join(', ') + ';';\r\n    },\r\n    _buildCpFnRetRmRegex = /\\s*\\=\\s*\\[\\s*\\]\\s*$/,\r\n    _buildCompileFnReturn = function (varNameList: string[]): string {\r\n\r\n        if (varNameList.length > 0) {\r\n            let vvList = [], isL: boolean;\r\n            CmpxLib.each(varNameList, function (item) {\r\n                isL = _buildCpFnRetRmRegex.test(item);\r\n                isL && (item = item.replace(_buildCpFnRetRmRegex, ''));\r\n                vvList.push(['{name:\"', item, '\", p:', item, ', isL:', (isL ? 'true' : 'false'), '}'].join(''));\r\n            });\r\n            return 'return function(){initViewvar.call(this, [' + vvList.join(',') + ']);};';\r\n        } else {\r\n            return 'return function(){initViewvar.call(this);};'\r\n        }\r\n    },\r\n    _escapeStringRegex = /([\\\"\\\\])/gm,\r\n    _escapeBuildString = function (s: string): string {\r\n        return s ? s.replace(/([\\\"\\\\])/gm, '\\\\$1').replace(/\\n/gm, '\\\\n').replace(/\\r/gm, '\\\\r') : '';\r\n    },\r\n    _makeSubName = function (name): string[] {\r\n        if (name.indexOf('.') > 0) {\r\n            return name.split('.');\r\n        } else\r\n            return [name, ''];\r\n    },\r\n    _makeElementTag = function (tagName, attrs: Array<IAttrInfo>): { bindAttrs: Array<IAttrInfo>, stAtts: Array<ICreateElementAttr> } {\r\n        var bindAttrs = [], stAtts = [], names: string[];\r\n        CmpxLib.each(attrs, function (item: IAttrInfo) {\r\n            if (item.name == '$var' || item.name == '$array') return;\r\n            if (item.bind)\r\n                bindAttrs.push(item);\r\n            else {\r\n                names = _makeSubName(item.name);\r\n                stAtts.push({ name: names[0], value: _escapeBuildString(item.value), subName: names[1] });\r\n            }\r\n        });\r\n        return { bindAttrs: bindAttrs, stAtts: stAtts };\r\n    },\r\n    _buildAttrContent = function (attrs: Array<IAttrInfo>, outList: Array<string>) {\r\n        if (!attrs) return;\r\n        let names: string[];\r\n        CmpxLib.each(attrs, function (attr: IAttrInfo, index: number) {\r\n            names = _makeSubName(attr.name);\r\n            outList.push('__setAttribute(element, \"' + names[0] + '\", \"' + names[1] + '\", ' + attr.bindInfo.content + ', componet, subject);');\r\n        });\r\n    },\r\n    _buildAttrContentCP = function (attrs: Array<IAttrInfo>, outList: Array<string>) {\r\n        if (!attrs) return;\r\n        CmpxLib.each(attrs, function (attr: IAttrInfo, index: number) {\r\n            if (attr.name == '$var') return;\r\n            if (attr.bind)\r\n                outList.push('__setAttributeCP(element, \"' + attr.name + '\", ' + attr.bindInfo.content + ', componet, subject);');\r\n            else\r\n                outList.push('__setAttributeCP(element, \"' + attr.name + '\", \"' + _escapeBuildString(attr.value) + '\", componet, subject);');\r\n        });\r\n    },\r\n    _getViewvarName = function (attrs: Array<IAttrInfo>): { item: string, list: string } {\r\n        let name = { item: null, list: null }, has = false;\r\n        CmpxLib.each(attrs, function (attr: IAttrInfo, index: number) {\r\n            if (attr.name == '$var') {\r\n                name.item = CmpxLib.trim(attr.value);\r\n                has = true;\r\n                return false;\r\n            } else if (attr.name == '$array') {\r\n                name.list = CmpxLib.trim(attr.value);\r\n                has = true;\r\n                return false;\r\n            }\r\n        });\r\n        return has ? name : null;\r\n    },\r\n    _getInsertTemp = function (preInsert: boolean) {\r\n        return preInsert ? 'true' : 'false';\r\n    },\r\n    _getTagContent = function (tagInfo: ITagInfo): string {\r\n        let content: string;\r\n        CmpxLib.each(tagInfo.children, function (item: ITagInfo) {\r\n            content = CmpxLib.decodeHtml(item.content);\r\n        });\r\n        return content;\r\n    },\r\n    _buildCompileFnForVar = function (itemName: string, outList: string[]) {\r\n\r\n        var str = ['var $last = ($count - $index == 1), ', itemName, '_last = $last, ',\r\n            '$first = ($index ==  0), ', itemName, '_first = $first, ',\r\n            '$odd = ($index % 2 ==  0), ', itemName, '_odd = $odd, ',\r\n            '$even = !$odd, ', itemName, '_even = $even;'].join('');\r\n        outList.push(str);\r\n    },\r\n    _buildCompileFnContent = function (tagInfos: Array<ITagInfo>, outList: Array<string>, varNameList: string[], preInsert: boolean, inclue?: string[]) {\r\n        if (!tagInfos) return;\r\n\r\n        CmpxLib.each(tagInfos, function (tag: ITagInfo, index: number) {\r\n            let tagName = tag.tagName;\r\n            //如果指定include, 非tagName或不包涵，不引入\r\n            if (inclue && (!tagName || inclue.indexOf(tagName) < 0)) return;\r\n            if (!tag.cmd) {\r\n                if (tag.target) {\r\n                    let hasChild: boolean = tag.children && tag.children.length > 0,\r\n                        hasAttr: boolean = tag.attrs && tag.attrs.length > 0,\r\n                        varName = hasAttr ? _getViewvarName(tag.attrs) : null;\r\n                    if (varName) {\r\n                        varName.item && varNameList.push(varName.item);\r\n                        varName.list && varNameList.push(varName.list + ' = []');\r\n                    }\r\n                    if (tag.componet) {\r\n                        if (hasChild || hasAttr || varName) {\r\n                            outList.push('__createComponet(\"' + tagName + '\", componet, element, subject, function (componet, element, subject) {');\r\n                            if (varName) {\r\n                                varName.item && outList.push(varName.item + ' = componet;');\r\n                                varName.list && outList.push(varName.list + '.push(componet);');\r\n                            }\r\n                            _buildAttrContentCP(tag.attrs, outList);\r\n                            //createComponet下只能放tmpl\r\n                            _buildCompileFnContent(tag.children, outList, varNameList, preInsert, ['tmpl']);\r\n                            outList.push('});');\r\n                        } else {\r\n                            outList.push('__createComponet(\"' + tagName + '\", componet, element, subject);');\r\n                        }\r\n                        preInsert = true;\r\n                    } else {\r\n                        let htmlTagDef: HtmlTagDef = tag.htmlTagDef,\r\n                            rawTag = htmlTagDef.raw,\r\n                            tagContent = rawTag && _getTagContent(tag);\r\n                        //如果rawTag没有子级\r\n                        hasChild && (hasChild = !rawTag);\r\n                        if (hasAttr || hasChild || varName) {\r\n\r\n                            let { bindAttrs, stAtts } = _makeElementTag(tagName, tag.attrs);\r\n                            outList.push('__createElement(\"' + tagName + '\", ' + JSON.stringify(stAtts) + ', componet, element, subject, function (componet, element, subject) {');\r\n                            if (varName) {\r\n                                varName.item && outList.push(varName.item + ' = element;');\r\n                                varName.list && outList.push(varName.list + '.push(element);');\r\n                            }\r\n                            _buildAttrContent(bindAttrs, outList);\r\n                            hasChild && _buildCompileFnContent(tag.children, outList, varNameList, preInsert);\r\n\r\n                            outList.push('}, \"' + _escapeBuildString(tagContent) + '\");');\r\n                        } else {\r\n                            outList.push('__createElement(\"' + tagName + '\", [], componet, element, subject, null, \"' + _escapeBuildString(tagContent) + '\");');\r\n                        }\r\n                        preInsert = false;\r\n                    }\r\n                } else {\r\n                    if (tag.bind) {\r\n                        outList.push('__createTextNode(' + tag.bindInfo.content + ', componet, element, subject);');\r\n                    } else\r\n                        outList.push('__createTextNode(\"' + _escapeBuildString(tag.content) + '\", componet, element, subject);');\r\n                    preInsert = false;\r\n                }\r\n            } else {\r\n                switch (tagName) {\r\n                    case 'for':\r\n                        var extend = tag.attrs[0].extend,\r\n                            itemName = extend.item\r\n                        outList.push('__forRender(function (componet, element, subject) {');\r\n                        outList.push('return ' + extend.datas);\r\n                        outList.push('}, function (' + itemName + ', $count, $index, componet, element, subject) {');\r\n                        _buildCompileFnForVar(itemName, outList);\r\n                        var forTmpl = extend.tmpl;\r\n                        if (forTmpl)\r\n                            outList.push('__includeRender(\"' + _escapeBuildString(forTmpl) + '\", componet, element, ' + _getInsertTemp(preInsert) + ', subject, ' + itemName + ');');\r\n                        else\r\n                            _buildCompileFnContent(tag.children, outList, varNameList, preInsert);\r\n                        outList.push('}, componet, element, ' + _getInsertTemp(preInsert) + ', subject);');\r\n                        preInsert = true;\r\n                        break;\r\n                    case 'if':\r\n                        let ifFn = function (ifTag) {\r\n                            let ifChild = ifTag.children,\r\n                                hasElse = ifChild ? ifChild[ifChild.length - 1].tagName == 'else' : false,\r\n                                elseTag = hasElse ? ifChild.pop() : null;\r\n                            outList.push('__ifRender(function (componet, element, subject) {');\r\n                            outList.push('return ' + (ifTag.content || 'true'));\r\n                            outList.push('}, function (componet, element, subject) {');\r\n                            _buildCompileFnContent(ifChild, outList, varNameList, preInsert);\r\n                            outList.push('}, function (componet, element, subject) {');\r\n                            if (hasElse) {\r\n                                ifFn(elseTag);\r\n                                //_buildCompileFnContent(elseTag.children, outList, varNameList, preInsert);\r\n                            }\r\n                            outList.push('}, componet, element, ' + _getInsertTemp(preInsert) + ', subject);');\r\n                        };\r\n                        ifFn(tag);\r\n\r\n                        preInsert = true;\r\n                        break;\r\n                    case 'include':\r\n                        let incAttr = CmpxLib.arrayToObject<IAttrInfo>(tag.attrs, 'name'),\r\n                            incTmpl = incAttr['tmpl'],\r\n                            incParam = incAttr['param'] ? incAttr['param'].value : 'null',\r\n                            incRender: any = incAttr['render'];\r\n                        incRender && (incRender = 'function(){ return ' + incRender.value + '}');\r\n                        let context = incRender ? incRender : ('\"' + (incTmpl ? _escapeBuildString(incTmpl.value) : '') + '\"');\r\n                        outList.push('__includeRender(' + context + ', componet, element, ' + _getInsertTemp(preInsert) + ', subject, ' + incParam + ');');\r\n                        preInsert = true;\r\n                        break;\r\n                    case 'tmpl':\r\n                        let tmplAttr = CmpxLib.arrayToObject<IAttrInfo>(tag.attrs, 'name'),\r\n                            tmplId = tmplAttr['id'],\r\n                            tmplLet = tmplAttr['let'];\r\n                        outList.push('__tmplRender(\"' + (tmplId ? _escapeBuildString(tmplId.value) : '') + '\", componet, element, subject, function (componet, element, subject, param) {');\r\n                        tmplLet && outList.push('var ' + tmplLet.value + ';');\r\n                        _buildCompileFnContent(tag.children, outList, varNameList, preInsert);\r\n                        outList.push('});');\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n    };","import { CompileSubject, CompileRender, VM } from './compile';\r\n\r\nexport class Componet {\r\n    readonly $name: string;\r\n    readonly $parent: Componet;\r\n    readonly $children: Array<Componet> = [];\r\n    readonly $subObject: CompileSubject;\r\n    //readonly $elements: Array<HTMLElement | Text> = [];\r\n    readonly $parentElement: HTMLElement;\r\n\r\n    /**\r\n     * 更新View，View与Componet数据同步\r\n     * @param p 传入参数\r\n     */\r\n    $update(p?: any) {\r\n        if (this.$isDisposed) return;\r\n        this.onUpdateBefore(() => {\r\n            if (this.$isDisposed) return;\r\n            this.$subObject.update({\r\n                componet: this,\r\n                param: p\r\n            });\r\n        }, p);\r\n        this.onUpdate(function(){}, p);\r\n    }\r\n\r\n    private updateId:any;\r\n    /**\r\n     * 步异步更新View，View与Componet数据同步\r\n     * @param p 传入参数\r\n     */\r\n   $updateAsync(callback?:()=>void, p?:any){\r\n       this.updateId && clearTimeout(this.updateId);\r\n        this.updateId = setTimeout(() => {\r\n            this.updateId = null;\r\n            this.$update(p);\r\n            callback && callback.apply(this);\r\n        }, 5);\r\n    }\r\n\r\n    /**\r\n     * 将模板生成CompileRender, 用于include标签动态绑定用\r\n     * 注意动态模板里不要模板变量(viewvar)，请参数p传入，原因编译压缩后模板变量会改变\r\n     * @param tmpl 模板文本\r\n     * @param p 传入模板参数\r\n     */\r\n    $render(tmpl: string, p?:Object): CompileRender {\r\n        var rd = new CompileRender(tmpl, null, p);\r\n        return rd;\r\n    }\r\n\r\n    /**\r\n     * 在解释View之前触发，一般准备数据用\r\n     * @param cb 处理完成后，通知继续处理\r\n     * @param p 传入的参数\r\n     */\r\n    onInit(cb: (err?: any) => void, p?: any): void {\r\n        cb && cb();\r\n    }\r\n\r\n    /**\r\n     * 准备好Viewvar后, 在onInit之后、onReady之前触发\r\n     * @param cb 处理完成后，通知继续处理\r\n     * @param p 传入的参数\r\n     */\r\n    onInitViewvar(cb: (err?: any) => void, p?: any): void {\r\n        cb && cb();\r\n    }\r\n\r\n    /**\r\n     * View所有东西已经处理完成时触发\r\n     * @param cb 处理完成后，通知继续处理\r\n     * @param p 传入参数\r\n     */\r\n    onReady(cb: (err?: any) => void, p?: any): void {\r\n        cb && cb();\r\n    }\r\n\r\n    /**\r\n     * $update前时触发\r\n     * @param cb 处理完成后，通知继续处理\r\n     */\r\n    onUpdateBefore(cb: (err?: any) => void, p?: any): void {\r\n        cb && cb();\r\n    }\r\n\r\n    /**\r\n     * $update后时触发\r\n     * @param cb 处理完成后，通知继续处理\r\n     */\r\n    onUpdate(cb: (err?: any) => void, p?: any): void {\r\n        cb && cb();\r\n    }\r\n\r\n    /**\r\n     * 是否已经释放\r\n     */\r\n    $isDisposed: Boolean = false;\r\n    /**\r\n     * 在componet释放前触发\r\n     */\r\n    onDispose() {\r\n    }\r\n\r\n    constructor() {\r\n    }\r\n}\r\n","import { Componet } from './componet';\r\n\r\nexport default abstract class Platform {\r\n    abstract boot(component: any): Platform;\r\n}","import Platform from './platform';\r\nimport { Componet } from './componet';\r\nimport { Compile, CompileSubject } from './compile';\r\nimport { HtmlDef, HtmlTagDef, ICreateElementAttr, DEFULE_TAG, DEFAULT_ATTR, DEFAULT_ATTR_PROP, DEFAULT_EVENT_DEF, SINGLE_TAG } from './htmlDef';\r\nimport CmpxLib from './cmpxLib';\r\n\r\nlet _getParentElement = function (element: Node): Node {\r\n    return element.parentElement || element.parentNode;\r\n},\r\n    _setAttribute = function (element: HTMLElement, attrs: ICreateElementAttr[]) {\r\n        CmpxLib.each(attrs, function (item: ICreateElementAttr) {\r\n            HtmlDef.getHtmlAttrDef(item.name).setAttribute(element, item.name, item.value, item.subName);\r\n        });\r\n    },\r\n    _htmlTtype = /script|style/i,\r\n    _createElementRaw = function (name: string, attrs: ICreateElementAttr[], parent?: HTMLElement, content?: string): HTMLElement {\r\n        let element: HTMLElement = document.createElement(name);\r\n        element[_htmlTtype.test(name) ? 'innerHTML' : 'innerText'] = content || \"\";\r\n        _setAttribute(element, attrs);\r\n        return element;\r\n    };\r\n\r\nlet _rawTag = new HtmlTagDef({\r\n    //不解释内容，在createElement创建器传入content内容\r\n    raw: true,\r\n    //单行tag\r\n    single: false,\r\n    //创建器\r\n    createElement: _createElementRaw\r\n});\r\n\r\n/**\r\n * htmlDef配置\r\n */\r\nlet _htmlConfig = function () {\r\n\r\n    //扩展tag, 如果不支持请在这里扩展\r\n    HtmlDef.extendHtmlTagDef({\r\n        //默认不支持svg, 请处理HtmlTagDef的createElement参数\r\n        'svg': DEFULE_TAG,\r\n        //默认不支持math, 请处理HtmlTagDef的createElement参数\r\n        'math': DEFULE_TAG,\r\n        'br': SINGLE_TAG,\r\n        'style': _rawTag,\r\n        'script': _rawTag,\r\n        'title': _rawTag,\r\n        'textarea': _rawTag\r\n    });\r\n\r\n    //扩展attr, 如果不支持请在这里扩展\r\n    HtmlDef.extendHtmlAttrDef({\r\n        'name': DEFAULT_ATTR,\r\n        'value': DEFAULT_ATTR_PROP,\r\n        'type': DEFAULT_ATTR_PROP\r\n    });\r\n\r\n    //扩展事件处理, 如果不支持请在这里扩展\r\n    HtmlDef.extendHtmlEventDef({\r\n        \"click\": DEFAULT_EVENT_DEF\r\n    });\r\n\r\n    // //更改默认值，参考如下：\r\n    // DEFAULT_EVENT_DEF.addEventListener = (element: HTMLElement, eventName: string, context: (event: any) => any, useCapture: boolean) {\r\n    //     element.addEventListener(eventName, context, useCapture);\r\n    //     //attachEvent\r\n    // }\r\n\r\n    Compile.loadTmplCfg(function (url: string, cb: (tmpl: string | Function) => void) {\r\n        let xhr: XMLHttpRequest = new XMLHttpRequest(),\r\n            headers = {\r\n                'X-Requested-With': 'XMLHttpRequest',\r\n                'Accept': 'text/plain, */*; q=0.01',\r\n                'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\r\n            },\r\n            protocol = /^([\\w-]+:)\\/\\//.test(url) ? RegExp.$1 : window.location.protocol;\r\n        xhr.onreadystatechange = function () {\r\n            if (xhr.readyState == 4) {\r\n                if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304 || (xhr.status == 0 && protocol == 'file:')) {\r\n                    cb(xhr.responseText);\r\n                } else {\r\n                    cb('');\r\n                }\r\n            }\r\n        };\r\n\r\n        xhr.open('GET', url, true);\r\n        xhr.send(null);\r\n    });\r\n};\r\n\r\nexport class Browser extends Platform {\r\n\r\n    constructor() {\r\n        super();\r\n        //htmlDef配置\r\n        _htmlConfig();\r\n        //编译器启动，用于htmlDef配置后\r\n        Compile.startUp();\r\n    }\r\n\r\n    boot(componetDef: any): Browser {\r\n\r\n        let name = componetDef.prototype.$name,\r\n            bootElement: HTMLElement = document.getElementsByTagName(name)[0];\r\n        if (!bootElement)\r\n            throw new Error(`没有${name}标签`);\r\n\r\n        let _doc = document, parentElement = _getParentElement(bootElement);\r\n        let preElement: any = bootElement.previousSibling;\r\n        if (!preElement) {\r\n            preElement = _doc.createComment(name);\r\n            parentElement.insertBefore(preElement, bootElement);\r\n        }\r\n        parentElement.removeChild(bootElement);\r\n        bootElement = preElement;\r\n\r\n        ////DOMContentLoaded 时起动\r\n        let _readyName = 'DOMContentLoaded', _ready = function () {\r\n            _doc.removeEventListener(_readyName, _ready, false);\r\n            window.removeEventListener('load', _ready, false);\r\n\r\n            //注意tmplElement是Comment, 在IE里只能取到parentNode\r\n            let parentElement = _getParentElement(bootElement);\r\n            Compile.renderComponet(componetDef, bootElement, function (newSubject: CompileSubject, refComponet: Componet) {\r\n                parentElement.removeChild(bootElement);\r\n                //console.log(refComponet);\r\n\r\n                let _unload = function () {\r\n                    window.removeEventListener('unload', _unload);\r\n                    newSubject.remove({\r\n                        componet: refComponet\r\n                    });\r\n                };\r\n                window.addEventListener('unload', _unload, false);\r\n            });\r\n        };\r\n\r\n        if (/loaded|complete|undefined/i.test(_doc.readyState))\r\n            _ready();\r\n        else {\r\n            _doc.addEventListener(_readyName, _ready, false);\r\n            window.addEventListener(\"load\", _ready, false);\r\n\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n}","export * from './cmpxLib';\r\nexport * from './cmpxEvent';\r\nexport * from './htmlDef';\r\nexport * from './compile';\r\nexport * from './componet';\r\nexport * from './platform';\r\nexport * from './browser';\r\n","import { VM, Componet, Browser, viewvar, HtmlDef } from \"../index\";\r\n\r\n@VM({\r\n  name:'item',\r\n  tmpl:`<span>\r\n    {{this.name}}:{{this.param}}[{{this.num}}]\r\n  </span>`\r\n})\r\nclass ComponetItem extends Componet{\r\n  name:string = \"test item\";\r\n  param:string;\r\n  num:string;\r\n\r\n  constructor(){\r\n    super();\r\n    setTimeout(()=>{\r\n      this.num += \"\" + new Date().valueOf();\r\n      this.$update();\r\n    }, 1000);\r\n  }\r\n  onInit(cb, p){\r\n    super.onInit(cb, p);\r\n    // super.onInit(function(){\r\n    //   cb();\r\n    // }, p);\r\n  }\r\n\r\n  onDispose(){\r\n    super.onDispose();\r\n    //console.log('ComponetItem onDispose');\r\n  }\r\n}\r\n\r\n@VM({\r\n    name:'app',\r\n    tmpl:`<div class=\"app\">\r\n<div><input $var=\"input1\" type=\"text\" value=\"{{#this.num}}\" />{{this.num}}<input type=\"text\" value={{this.numPrint\r\n       + '#4@#&'}} click=\"{{@console.log(input1.value)}}\" />\r\n  divText ({{this.text}}){{: this.text}}\r\n  <span id=\"span1\" style.color=\"{{'red'}}\" click=\"{{@console.log(element.innerText);}}\"> spanText {{:new Date().toString()}} | {{:new Date().getDay()}}  </Span>\r\n  <div>\r\n    <button click=\"{{@this.ok = !this.ok;this.$update()}}\">ok</button>\r\n    <button click=\"{{@this.ok1 = !this.ok1;this.$update()}}\">ok1</button>\r\n    <button click=\"{{@this.ok2 = !this.ok2;this.$update()}}\">ok2</button>\r\n    {{if this.ok}}\r\n      ok1:true\r\n    {{else this.ok1}}\r\n      ok:false, ok1:true\r\n    {{else this.ok2}}\r\n      ok:false, ok1:false, ok2:true\r\n    {{else}}\r\n      ok:false, ok1:false, ok2:false\r\n    {{/if}}      \r\n  </div>\r\n  <div>\r\n    <button click=\"{{@this.click(1)}}\">测试, 数量:{{this.numPrint}}</button>\r\n    <button click=\"{{@this.clickItem()}}\">测试item.id</button>\r\n    <button click=\"{{@this.clickRender()}}\" class=\"blue\">测试render</button>\r\n    ({{this.aaaa}})\r\n  </div>\r\n  {{tmpl id=\"tmpl1\" let=\"index=param.index\"}}\r\n    <span>tmpl text</span> {{index}}\r\n    (<item param=\"asdfafd\" $array=\"cpList\" num=\"{{this.numPrint}}\"></item>)\r\n  {{/tmpl}}{{for userItem in this.users}}\r\n    <div> {{:$index}}({{$odd}},{{userItem_odd}}) ({{userItem.id}}) for div text\r\n           inc:{{include tmpl=\"tmpl1\" param=\"{index:$index}\" }}\r\n           inc1:{{include render=\"this.testRender\" }}\r\n    </div>\r\n  {{/for}}\r\n    <textarea class=\"red\">\r\n    <span>aaa\r\n    </span>\r\n    </textarea>\r\n  <pre><span style.color=\"{{'red'}}\">sd   fsfsf</span></pre>\r\n  <script type=\"text/html\">alert('aaa');</script>\r\n  <select>{{for item in this.users}}\r\n  <option>{{item.id}}</option>\r\n  {{/for}}\r\n  </select>\r\n</div>`,\r\n  //tmplUrl:'app.html',\r\n  style:`.red {color:red}`,\r\n  styleUrl:'app.css'\r\n})\r\nclass MyComponet extends Componet{\r\n\r\n    testRender:any;\r\n    ok:boolean = true;\r\n    ok1:boolean = true;\r\n    ok2:boolean = true;\r\n\r\n\r\n    constructor(){\r\n        super();\r\n        \r\n        this.testRender = this.$render(' [<item param=\"asdfafd\" num=\"{{this.numPrint}}\"></item> {{dddd}}]', {dddd:111});\r\n        //this.makeItem(1000);\r\n    }\r\n\r\n    clickRender(){\r\n      this.testRender = this.$render(' [<item param=\"asdfafd\" num=\"{{this.numPrint}}\"></item>]'+new Date().valueOf());\r\n      this.$update();\r\n    }\r\n\r\n    @viewvar('input1')\r\n    inputTest:HTMLInputElement;\r\n    \r\n    @viewvar()\r\n    input1:HTMLInputElement;\r\n\r\n    onInit(cb, p){\r\n      //console.log('onInit');\r\n      super.onInit(cb, p);\r\n      // setTimeout(()=>{\r\n      //   super.onInit(cb, p);\r\n      // }, 1000);\r\n    }\r\n\r\n    onUpdateBefore(cb, p){\r\n      //console.log('onUpdateBefore');\r\n      super.onUpdateBefore(cb, p);\r\n    }\r\n\r\n    onUpdate(cb, p){\r\n      console.log('onUpdate');\r\n      super.onUpdate(cb, p);\r\n    }\r\n\r\n    onInitViewvar(cb, p){\r\n      //console.log('onInitViewvar', this.testCp);\r\n      super.onInitViewvar(cb, p);\r\n    }\r\n\r\n    onReady(cb, p){\r\n      console.log('onReady');\r\n      super.onReady(cb, p);\r\n    }\r\n\r\n    text:string = \"text\";\r\n    users = [{id:'id 0'}];\r\n    makeItem(num:number){\r\n      var list = [];\r\n      for (var i=0;i<num;i++)\r\n        list.push({id:'id '+i});\r\n      this.users = list;\r\n    }\r\n    num:number = 20;\r\n    numPrint:string = '';\r\n\r\n    @viewvar()\r\n    cpList:ComponetItem[];\r\n    click(){\r\n      let n = 1 + Math.round(Math.random() * (~~this.num));\r\n      this.makeItem(n);\r\n      let t = new Date().valueOf();\r\n      // console.log('cpList b', this.cpList);\r\n      console.time('update '+n);\r\n      this.$update();\r\n      console.timeEnd('update '+n);\r\n      this.numPrint = n + ' ' + (new Date().valueOf() - t) + 'ms ';\r\n      this.$update();\r\n      // console.log('cpList e', this.cpList);\r\n    }\r\n    clickItem(){\r\n      this.users[0].id = new Date().toString();\r\n      console.time('updateItem');\r\n      this.$update();\r\n      console.timeEnd('updateItem');\r\n    }\r\n}\r\n\r\nconsole.time('start');\r\nnew Browser().boot(MyComponet);\r\nconsole.timeEnd('start');\r\n\r\n//new IE8Browser().boot(MyComponet);"]}